<div class="inner" [class.active]="menuActive$ | async">

  <a [routerLink]="['/']" class="logo">
    <ng-template [ngTemplateOutlet]="logo" />
  </a>

  <app-search />

  <div class="user-tools">

    <div class="theme-switcher">
      <button [class]="theme$ | async" (click)="toggleTheme$.next()">
        <ng-template [ngTemplateOutlet]="themSwitcher" />
      </button>
    </div>

    <div class="connect-menu">

      @if ((connected$ | async)) {
        @if ((walletAddress$ | async); as address) {
          <a [routerLink]="['/', 'market', 'owned']" [queryParams]="{ address }">
            <app-address [address]="address" />
          </a>

          <button class="points" (click)="toggleMenu$.next()">
            <ng-template [ngTemplateOutlet]="pointsIcon" />
            {{ (userPoints$ | async) | number }}
          </button>
        }
      } @else {
        <button
          class="connect"
          (click)="web3Svc.connect()">

          Connect
        </button>
      }

      <div class="toggle-wrapper" (click)="toggleMenu$.next()">
        <button
          class="menu"
          [class.active]="menuActive$ | async">

          @if ((notifications$ | async); as notifs) {
            <div class="notif">{{ notifs | number }}</div>
          }

          <div class="arrow">
            <ng-template [ngTemplateOutlet]="menuIcon" />
          </div>
        </button>

        @if (activeMultiplier$ | async; as multiplier) {
          @if (multiplier > 1) {
            <button class="multiplier">
              <span class="value">{{ multiplier }}x</span>
              <span class="label">points<br />multiplier</span>
            </button>
          }
        }
      </div>
    </div>
  </div>
</div>

<ng-template #logo>
  <svg height="38" viewBox="0 0 186.358975 38" width="186.358975" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="rgba(var(--header-text), 1)" fill-rule="nonzero"><g transform="translate(32.0967 14.6664)"><path d="m0 0h11.2v2.80758808h-8.4v2.80758807h8.4v2.80758808h-8.4v5.57723577h-2.8zm11.2 2.80758808h2.8v2.80758807h-2.8z"/><path d="m16 0h2.8v5.61517615h8.4v-5.61517615h2.8v14h-2.8v-5.57723577h-8.4v5.57723577h-2.8z"/><path d="m33 0h2.8v11.2303523h-2.8zm11.2 0h2.8v11.2303523h-2.8zm-8.4 11.2303523h8.4v2.7696477h-8.4z"/><path d="m50 0h2.8v2.80758808h2.8v2.80758807h-2.8v8.38482385h-2.8zm11.2 0h2.8v14h-2.8v-2.7696477h-2.8v-2.80758807h2.8zm-5.6 5.61517615h2.8v2.80758808h-2.8z"/><path d="m67 0h2.8v5.61517615h5.6v2.80758808h-5.6v5.57723577h-2.8zm11.2 0h2.8v2.80758808h-2.8zm-2.8 2.80758808h2.8v2.80758807h-2.8zm0 5.61517615h2.8v2.80758807h-2.8zm2.8 2.80758807h2.8v2.7696477h-2.8z"/><path d="m86.8 0h11.2v2.80758808h-11.2zm-2.8 2.80758808h2.8v2.80758807h-2.8zm2.8 2.80758807h8.4v2.80758808h-8.4zm8.4 2.80758808h2.8v2.80758807h-2.8zm-11.2 2.80758807h11.2v2.7696477h-11.2z"/></g><g transform="translate(32 1)"><path d="m0 0h10.6725533v2.13451067h-8.53804263v2.13451067h6.40353201v2.13451067h-6.40353201v2.13451067h8.53804263v2.10566592h-10.6725533z"/><path d="m12.4753495 0h10.6725534v2.13451067h-4.2690214v8.50919793h-2.1345106v-8.50919793h-4.2690214z"/><path d="m24.950699 0h2.1345107v4.26902134h6.403532v-4.26902134h2.1345107v10.6437086h-2.1345107v-4.24017659h-6.403532v4.24017659h-2.1345107z"/><path d="m37.4260486 0h10.6725533v2.13451067h-8.5380427v2.13451067h6.403532v2.13451067h-6.403532v2.13451067h8.5380427v2.10566592h-10.6725533z"/><path d="m49.9013981 0h8.5380427v2.13451067h-6.403532v2.13451067h6.403532v2.13451067h-6.403532v4.24017659h-2.1345107zm8.5380427 2.13451067h2.1345106v2.13451067h-2.1345106zm0 4.26902134h2.1345106v4.24017659h-2.1345106z"/><path d="m62.3767476 0h10.6725534v2.13451067h-8.5380427v2.13451067h6.403532v2.13451067h-6.403532v2.13451067h8.5380427v2.10566592h-10.6725534z"/><path d="m74.8520971 0h2.1345107v8.53804268h-2.1345107zm8.5380427 0h2.1345107v8.53804268h-2.1345107zm-6.403532 8.53804268h6.403532v2.10566592h-6.403532z"/><path d="m87.3274467 0h2.1345106v2.13451067h2.1345107v2.13451067h-2.1345107v6.37468726h-2.1345106zm8.5380426 0h2.1345107v10.6437086h-2.1345107v-6.37468726h-2.1345106v-2.13451067h2.1345106zm-4.2690213 4.26902134h2.1345107v2.13451067h-2.1345107z"/></g></g><g fill="rgba(var(--header-text), 1)" transform="translate(151)"><path d="m1.53734672 13.0674471h1.53734672v1.5373467h-1.53734672zm9.22408028 6.1493869v4.6120401h-1.53734669v-4.6120401zm-3.07469341 1.5373467v3.0746934h-1.53734672v-1.5373467h-3.07469343v-1.5373467zm1.53734672-3.0746934v1.5373467h-1.53734672v-1.5373467zm-4.61204016-3.0746935v1.5373467h3.07469344v1.5373468h-4.61204015v-3.0746935zm6.14938685-1.5373467v3.0746934h1.5373467v1.5373468h-3.07469339v-4.6120402zm-9.22408028 4.6120402h-1.53734672v-1.5373468h3.07469344v7.6867336h-1.53734672zm0 6.1493868h1.53734672v3.0746935h-1.53734672zm0 4.6120402v1.5373467h-1.53734672v-1.5373467zm1.53734672-1.5373467v1.5373467h-1.53734672v-1.5373467zm3.07469343 1.5373467v-1.5373467h1.53734672v3.0746934h-3.07469344v-1.5373467zm0-4.6120402h1.53734672v3.0746935h-1.53734672zm4.61204013 0h1.5373467v1.5373467h-1.5373467zm3.0746935 1.5373467v1.5373468h-1.5373468v-1.5373468zm1.5373467-1.5373467v1.5373467h-1.5373467v-1.5373467zm1.5373467 4.6120402v1.5373467h-1.5373467v-1.5373467zm-1.5373467-1.5373467v1.5373467h-1.5373467v-1.5373467zm-4.6120402 1.5373467v1.5373467h-1.53734669v-1.5373467zm1.5373467-1.5373467v1.5373467h-1.5373467v-1.5373467zm0-9.2240803v-1.5373468h4.6120402v1.5373468h-1.5373467v6.1493868h-1.5373467v-6.1493868zm18.4481607-1.5373468v-1.5373467h4.6120401v1.5373467zm-3.0746935 0v-1.5373467h3.0746935v1.5373467zm-1.5373467 1.5373468v-1.5373468h-1.5373467v-1.5373467h1.5373467v-1.5373467h1.5373467v6.1493869h-3.0746934v-1.5373467zm-6.1493869 0h1.5373468v6.1493868h-1.5373468zm4.6120402 6.1493868v-1.5373467h3.0746934v1.5373467zm7.6867336-4.6120401h-1.5373467v-1.5373467h3.0746934v6.1493868h-3.0746934v-1.5373467h1.5373467zm-10.761427-3.0746935v-1.5373467h3.0746934v1.5373467zm0 7.6867336v-1.5373467h3.0746934v1.5373467zm6.1493868-4.6120401v-1.5373467h3.0746935v1.5373467zm-9.2240803-3.0746935v-1.5373467h3.0746935v1.5373467zm3.0746935 3.0746935v-1.5373467h3.0746934v1.5373467zm6.1493868 4.6120401v-1.5373467h3.0746935v1.5373467zm1.5373467 0h1.5373468v3.0746935h-1.5373468zm0 3.0746935h1.5373468v3.0746934h-1.5373468zm1.5373468 3.0746934v-1.5373467h3.0746934v-1.5373467h1.5373467v3.0746934zm3.0746934-4.6120402h1.5373467v1.5373468h-1.5373467zm-10.761427-1.5373467h1.5373467v3.0746935h-1.5373467zm-1.5373467 3.0746935h1.5373467v1.5373467h-1.5373467zm-3.0746935 3.0746934v-1.5373467h3.0746935v1.5373467z"/><path d="m5.05128207 10.1025641v1.0102565h-2.02051283v-1.0102565zm6.06153853 0v1.0102565h-1.0102565v-1.0102565zm-5.05128211-1.01025637v1.01025637h-1.01025642v-1.01025637zm-4.04102566-8.08205132v7.07179491h1.01025641v1.01025641h-1.01025641v1.01025637h-2.02051283v-1.01025637h1.01025641v-8.08205132zm8.08205127 8.08205132v1.01025637h-1.01025637v-1.01025637zm-3.0307692-1.01025641v1.01025641h-1.01025641v-1.01025641zm2.02051283 0v1.01025641h-1.01025641v-1.01025641zm-5.05128207-1.01025642v1.01025642h-1.01025642v-1.01025642zm4.04102566-1.01025641v2.02051283h-1.01025642v-2.02051283zm-3.03076925 0v1.01025641h-1.01025641v-1.01025641zm4.04102566-6.06153849v6.06153849h-1.01025641v-6.06153849zm-3.03076924 2.02051283v2.02051283h-1.01025642v-2.02051283zm-1.01025642-1.01025642v1.01025642h-1.01025641v-1.01025642zm28.28717963 9.09230769v1.0102565h-2.0205128v-1.0102565zm-5.0512821 0v1.0102565h-1.0102564v-1.0102565zm1.0102564-2.02051278v2.02051278h-1.0102564v-2.02051278zm3.0307693-7.07179491v1.01025642h3.0307692v1.01025641h-5.0512821v2.02051283h4.0410257v5.05128203h-1.0102564v-4.04102561h-3.0307693v2.02051283h-1.0102564v-5.05128208h-2.0205128v-1.01025641h4.0410257v-1.01025642zm-6.0615385-1.01025641v3.03076924h1.0102564v1.01025642h-1.0102564v3.03076924h1.0102564v1.01025642h-1.0102564v1.01025641h-2.0205128v-1.01025641h1.0102564v-4.04102566h-1.0102564v-1.01025642h1.0102564v-3.03076924zm5.0512821 0v1.01025641h-1.0102565v-1.01025641zm-8.0820514 10.1025641v1.0102565h-2.0205128v-1.0102565zm-5.051282 0v1.0102565h-1.0102565v-1.0102565zm-4.0410257 0v1.0102565h-2.0205128v-1.0102565zm7.0717949-1.01025637v1.01025637h-1.0102564v-1.01025637zm-4.0410257 0v1.01025637h-1.0102564v-1.01025637zm-2.0205128 0v1.01025637h-1.0102564v-1.01025637zm1.0102564-2.02051283v2.02051283h-1.0102564v-2.02051283zm4.0410257 0v2.02051283h-1.0102564v-2.02051283zm-3.0307693-2.02051283v2.02051283h-1.0102564v-2.02051283zm2.0205129 0v2.02051283h-1.0102564v-2.02051283zm-7.0717949-1.01025641v-1.01025642h5.051282v-3.03076924h1.0102565v3.03076924h5.051282v1.01025642h-5.051282v1.01025641h-1.0102565v-1.01025641z"/></g><path d="m140.5 1.5v27" opacity=".2" stroke="rgba(var(--header-text), 1)" stroke-linecap="square" stroke-width="2"/><g fill="rgba(var(--header-text), 1)" fill-rule="nonzero"><g><path d="m18 3h3v3h-3z" opacity=".5"/><path d="m15 3h3v3h-3z" opacity=".5"/><path d="m3 3h3v3h-3z" opacity=".5"/><path d="m0 3h3v3h-3z" opacity=".5"/><path d="m18 6h3v3h-3z"/><path d="m3 6h3v3h-3z"/><path d="m0 6h3v3h-3z" opacity=".2"/><path d="m15 6h3v3h-3z" opacity=".2"/><path d="m9 15h3v3h-3z"/><path d="m6 15h3v3h-3z"/><path d="m12 24h3v3h-3z"/><path d="m15 21h3v3h-3z"/><path d="m9 24h3v3h-3z"/><path d="m6 24h3v3h-3z"/></g><path d="m31.7882812 32.234375h1.15625v1.15625h1.15625v1.15625h-1.15625v3.453125h-1.15625zm4.625 0h1.15625v5.765625h-1.15625v-3.453125h-1.15625v-1.15625h1.15625zm-2.3125 2.3125h1.15625v1.15625h-1.15625z"/><path d="m51.386875 32.234375h3.46875v1.15625h-3.46875zm-1.15625 1.15625h1.15625v1.15625h3.46875v-1.15625h1.15625v4.609375h-1.15625v-2.296875h-3.46875v2.296875h-1.15625z"/><path d="m68.6729688 32.234375h4.625v1.15625h-3.46875v1.15625h3.46875v1.15625h-3.46875v2.296875h-1.15625zm4.625 1.15625h1.15625v1.15625h-1.15625zm0 2.3125h1.15625v2.296875h-1.15625z"/><path d="m87.1153125 32.234375h1.15625v2.3125h2.3125v1.15625h-2.3125v2.296875h-1.15625zm4.625 0h1.15625v1.15625h-1.15625zm-1.15625 1.15625h1.15625v1.15625h-1.15625zm0 2.3125h1.15625v1.15625h-1.15625zm1.15625 1.15625h1.15625v1.140625h-1.15625z"/><path d="m105.557656 32.234375h5.78125v1.15625h-4.625v1.15625h3.46875v1.15625h-3.46875v1.15625h4.625v1.140625h-5.78125z"/><path d="m124 32.234375h5.78125v1.15625h-2.3125v4.609375h-1.15625v-4.609375h-2.3125z"/></g></g></svg>
</ng-template>

<ng-template #themSwitcher>
  <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="rgba(var(--header-text), 1)" fill-rule="evenodd"><path d="m3 3h9v18h-9z"/><path d="m18 21v3h-12v-3zm-12-3v3h-3v-3zm15 0v3h-3v-3zm-18-12v12h-3v-12zm21 0v12h-3v-12zm-3-3v3h-3v-3zm-15 0v3h-3v-3zm0 0v-3h12v3z"/></g></svg>
</ng-template>

<ng-template #withdrawIcon>
  <svg height="6" viewBox="0 0 5 6" width="5" xmlns="http://www.w3.org/2000/svg"><g><path d="m0 0h1v1h-1z" opacity=".6"/><path d="m1 0h1v1h-1z" opacity=".7"/><path d="m2 0h1v1h-1z" opacity=".8"/><path d="m3 0h1v1h-1z" opacity=".7"/><path d="m4 0h1v1h-1z" opacity=".6"/><path d="m2 2h1v1h-1z"/><path d="m2 1h1v1h-1z"/><path d="m2 3h1v1h-1z"/><path d="m2 4h1v1h-1z"/><path d="m3 4h1v1h-1z"/><path d="m2 5h1v1h-1z"/><path d="m4 3h1v1h-1z"/><path d="m1 4h1v1h-1z"/><path d="m0 3h1v1h-1z"/></g></svg>
</ng-template>

<ng-template #menuIcon>
  <svg height="15" viewBox="0 0 9 15" width="9" xmlns="http://www.w3.org/2000/svg"><path d="m6 6h3v3h-3zm-3-3h3v3h-3zm0 6h3v3h-3zm-3-9h3v3h-3zm0 12h3v3h-3z" fill-rule="evenodd"/></svg>
</ng-template>

<ng-template #pointsIcon>
  <svg height="119" viewBox="0 0 119 119" width="119" xmlns="http://www.w3.org/2000/svg"><path d="m17 17v17h-17v-17zm17-17v17h-17v-17zm0 17v-17h34v17zm-34 17h17v34h-17zm68 17v-17h34v34h-17v-17zm51-17h-17v17h17zm-85 17v-17h34v17zm0 17h-17v17h17zm0 17v-17h34v17zm34-68v-17h34v34h-17v-17zm0 68v-17h34v17zm17 0h17v34h-17z"/></svg>
</ng-template>
